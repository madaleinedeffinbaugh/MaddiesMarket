<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="eng">
<head th:insert="partials/header :: head"/>
<link rel="stylesheet" th:href="@{/css/edit-profile.css}">
<body>
<nav th:replace="partials/navbar :: navbar"/>
<div class="container">
    <div class="wrapper-section row">
        <div class="col-12 col-md-6">

            <div class="register-section m-3">
                <h4 class="text-center">Update Your Information</h4>
                <form th:action="@{/updateProfile}" method="POST" th:object="${currentUser}" id="updateInfoForm">
                    <div class="row">
                        <div class="col-12 col-lg-6">
                            <div class="mb-3 row form-custom">
                                <label for="first_name" class="form-label">First Name</label>
                                <div class="">
                                    <input type="text" class="form-control" name="first_name" id="first_name"
                                           th:field="*{first_name}">
                                    <div id="firstNameFeedback"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-lg-6">
                            <div class="mb-3 row form-custom">
                                <label for="last_name" class="form-label">Last Name</label>
                                <div class="">
                                    <input type="text" class="form-control" name="last_name" id="last_name"
                                           th:field="*{last_name}">
                                    <div id="lastNameFeedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 row form-custom">
                        <label for="username" class="form-label">Username</label>
                        <div class="">
                            <input type="text" class="form-control" name="username" id="username"
                                   th:field="*{username}">
                            <div id="usernameFeedback"></div>
                        </div>
                    </div>
                    <div class="mb-3 row form-custom">
                        <label for="email" class="form-label">Email</label>
                        <div class="">
                            <input type="text" class="form-control" name="email" id="email" th:field="*{email}">
                            <div id="emailFeedback"></div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="btn button me-2" id="updateInfoButton">Save</button>
                    </div>
                    <div id="userInfoMessage" class="d-none user-message text-center mt-2">Profile Information Updated
                        Successfully
                    </div>
                </form>
            </div>
        </div>
        <div class="col-12 col-md-6">
            <div class="register-section m-3">

                <h4 class="text-center">Change Your Password</h4>
                <form th:action="@{/updatePassword}" method="POST" id="updatePasswordForm">
                    <div class="row">
                        <div class="row">
                            <div class="mb-3 row form-custom">
                                <label for="currentPassword" class="form-label">Current Password</label>
                                <div class="">
                                    <input type="password" class="form-control" name="currentPassword"
                                           id="currentPassword">
                                    <div id="currentPasswordFeedback"></div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="mb-3 row form-custom">
                                <label for="newPassword" class="form-label">New Password</label>
                                <div class="">
                                    <input type="password" class="form-control" name="newPassword" id="newPassword">
                                    <div id="newPasswordFeedback"></div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="mb-3 row form-custom">
                                <label for="newPasswordConfirm" class="form-label">Confirm New Password</label>
                                <div class="">
                                    <input type="password" class="form-control" name="newPasswordConfirm"
                                           id="newPasswordConfirm">
                                    <div id="confirmPasswordFeedback"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="btn button me-2" id="updatePasswordBtn">Save</button>
                    </div>
                    <div id="userPasswordMessage" class="d-none user-message text-center mt-2">Password Updated
                        Successfully
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script th:inline="javascript">
    let usernameTaken = /*[[${usernameTaken}]]*/ 'default_value1';
    let emailTaken = /*[[${emailTaken}]]*/ 'default_value2';
    let passwordUpdated = /*[[${passwordUpdated}]]*/ 'default_value2';
    let incorrectPassword = /*[[${incorrectPassword}]]*/ 'default_value2';
    let profileUpdated = /*[[${profileUpdated}]]*/ 'default_value2';
</script>
<script src="/js/editProfile.js"></script>
</body>
</html>